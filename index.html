<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BYT BOT ‚Äî Control Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0b0b0b;--panel:#131313;--panel-2:#1a1a1a;--accent:#00ff99;--accent-2:#22d3ee;--muted:#8b8b8b;}
    html,body{height:100%}
    body{font-family: "JetBrains Mono", monospace;background:radial-gradient(1200px 600px at 10% -10%, rgba(0,255,153,.07), transparent),radial-gradient(900px 500px at 110% 0%, rgba(34,211,238,.06), transparent),var(--bg);color:#e0e0e0}
    .neon{ text-shadow: 0 0 8px var(--accent), 0 0 16px rgba(0,255,153,.35)}
    .glow{ box-shadow: 0 0 0 1px rgba(0,255,153,.25), 0 0 30px rgba(0,255,153,.12) inset }
    .card{ background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.2)); border:1px solid rgba(255,255,255,.1); border-radius:1rem }
    .btn{ background:#111;border:1px solid #2a2a2a;border-radius:.75rem;padding:.7rem 1rem }
    .btn:hover{ background:#171717 }

    /* ===== Glitch Title ===== */
    .glitch { position: relative; }
    .glitch:before, .glitch:after { content: attr(data-text); position: absolute; inset: 0; pointer-events:none; }
    .glitch:before{ color:#a4ffd6; transform: translate(2px,-1px); mix-blend-mode: screen; filter: blur(.3px)}
    .glitch:after{ color:#7ce7ff; transform: translate(-2px,1px); mix-blend-mode: screen; filter: blur(.3px)}

    /* ===== Tabs ===== */
    .tab{ display:none }
    .tab.active{ display:block }

    /* ===== Slot Machine ===== */
    .reel{ width:72px;height:72px; display:flex; align-items:center; justify-content:center; font-size:42px; border-radius:.75rem; background:#0e0e0e; border:1px solid #2f2f2f }
    .reel-wrap{ perspective:900px }
    .spin{ animation: spin 900ms cubic-bezier(.2,.6,.2,1) }
    @keyframes spin{ 0%{ transform: rotateX(0deg) } 100%{ transform: rotateX(720deg) } }

    /* ===== Roulette Wheel ===== */
    .wheel{ width:320px; height:320px; border-radius:50%; border:2px solid #2f2f2f; background:conic-gradient(#0ea5e9 0deg 4deg, #111 4deg 360deg); position:relative; overflow:hidden }
    .pockets{ position:absolute; inset:6px; border-radius:50%; background:conic-gradient(
      #065f46 0 9.73deg, #7f1d1d 9.73deg 19.46deg,
      #065f46 19.46deg 29.19deg, #7f1d1d 29.19deg 38.92deg,
      #065f46 38.92deg 48.65deg, #7f1d1d 48.65deg 58.38deg,
      #065f46 58.38deg 68.11deg, #7f1d1d 68.11deg 77.84deg,
      #065f46 77.84deg 87.57deg, #7f1d1d 87.57deg 97.3deg,
      #065f46 97.3deg 107.03deg, #7f1d1d 107.03deg 116.76deg,
      #065f46 116.76deg 126.49deg, #7f1d1d 126.49deg 136.22deg,
      #065f46 136.22deg 145.95deg, #7f1d1d 145.95deg 155.68deg,
      #065f46 155.68deg 165.41deg, #7f1d1d 165.41deg 175.14deg,
      #065f46 175.14deg 184.87deg, #7f1d1d 184.87deg 194.6deg,
      #065f46 194.6deg 204.33deg, #7f1d1d 204.33deg 214.06deg,
      #065f46 214.06deg 223.79deg, #7f1d1d 223.79deg 233.52deg,
      #065f46 233.52deg 243.25deg, #7f1d1d 243.25deg 252.98deg,
      #065f46 252.98deg 262.71deg, #7f1d1d 262.71deg 272.44deg,
      #065f46 272.44deg 282.17deg, #7f1d1d 282.17deg 291.9deg,
      #065f46 291.9deg 301.63deg, #7f1d1d 301.63deg 311.36deg,
      #065f46 311.36deg 321.09deg, #7f1d1d 321.09deg 330.82deg,
      #065f46 330.82deg 340.55deg, #7f1d1d 340.55deg 350.28deg,
      #065f46 350.28deg 360deg
    ); box-shadow: inset 0 0 40px rgba(0,0,0,.6) }
    .pin{ position:absolute; top:-10px; left:50%; transform:translateX(-50%); width:0; height:0; border-left:10px solid transparent; border-right:10px solid transparent; border-bottom:16px solid var(--accent); filter: drop-shadow(0 0 8px rgba(0,255,153,.5)) }

    .spin-wheel{ transition: transform 3s cubic-bezier(.13,.86,.25,1) }

    /* ===== Table-esque HUD ===== */
    .hud{ background:rgba(0,0,0,.4); border:1px solid rgba(255,255,255,.08); border-radius:.8rem }

    /* Search highlight */
    mark{ background: rgba(34,197,94,.25); padding: 0 .25rem; border-radius:.3rem }
  </style>
</head>
<body class="min-h-screen">
  <header class="sticky top-0 z-40 backdrop-blur bg-black/40 border-b border-white/10">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-3 h-3 rounded-full" style="background:var(--accent);"></div>
        <h1 class="text-xl md:text-2xl font-bold glitch neon" data-text="BYT BOT HUB">BYT BOT HUB</h1>
      </div>
      <nav class="flex flex-wrap gap-2">
        <button class="btn tablink" data-tab="home">Home</button>
        <button class="btn tablink" data-tab="slots">Slots</button>
        <button class="btn tablink" data-tab="roulette">Roulette</button>
        <button class="btn tablink" data-tab="commands">Commands</button>
        <button class="btn tablink" data-tab="info">Bot Infos</button>
        <button class="btn tablink" data-tab="support">Support</button>
      </nav>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-8 space-y-8">
    <!-- ===== HOME / IMG MAKER ===== -->
    <section id="home" class="tab active">
      <div class="card p-6 md:p-8">
        <h2 class="text-2xl font-bold mb-1">BYT IMG MAKER</h2>
        <p class="text-sm text-green-400">MADE BY BYT // POWERED BY GEMINI</p>
        <div class="grid md:grid-cols-[1.1fr_.9fr] gap-6 mt-6">
          <div class="space-y-3">
            <textarea id="promptInput" class="w-full h-40 p-4 bg-black/70 border border-green-600 rounded-lg text-green-200 placeholder-green-600 focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="> Gib deine Beschreibung ein..."></textarea>
            <div class="flex gap-3">
              <button id="generateButton" class="btn border-green-700 hover:border-green-600">&gt; Bild generieren</button>
              <button id="clearPrompt" class="btn">Clear</button>
            </div>
            <div id="loadingIndicator" class="hidden text-green-400 font-medium">[*] Dein Bild wird generiert...</div>
          </div>
          <div id="imageContainer" class="hud p-4 flex items-center justify-center min-h-[256px] rounded-xl">
            <p class="text-green-600">&gt; BYT SYSTEM READY</p>
          </div>
        </div>
        <p class="text-xs text-muted mt-3">Hinweis: API-Key im Code ablegen oder via Prompt setzen. Beachte Rate-Limits.</p>
      </div>
    </section>

    <!-- ===== SLOTS ===== -->
    <section id="slots" class="tab">
      <div class="grid md:grid-cols-2 gap-6">
        <div class="card p-6">
          <h2 class="text-xl font-bold mb-2">üé∞ Slot-Maschine</h2>
          <div class="reel-wrap grid grid-cols-3 gap-3 my-4">
            <div class="reel" id="r1">üçí</div>
            <div class="reel" id="r2">üíé</div>
            <div class="reel" id="r3">7Ô∏è‚É£</div>
          </div>
          <div class="flex items-center gap-3">
            <input id="slotBet" type="number" min="1" value="10" class="bg-black/60 border border-white/10 rounded-md p-2 w-28" />
            <button id="slotSpin" class="btn border-green-700">Spin</button>
            <button id="slotMax" class="btn">Max</button>
          </div>
          <p id="slotMsg" class="mt-3 text-sm text-gray-300">Gewinn: 3√ó7Ô∏è‚É£ = 50x | 3√óüíé = 25x | 3√ó‚≠ê = 10x | 2√ógleich = 2x</p>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold mb-2">üí∞ Konto</h3>
          <div class="flex flex-wrap items-center gap-3">
            <div class="px-3 py-2 bg-black/50 rounded-md border border-white/10">Balance: <span id="balance">0</span> ¬¢</div>
            <button id="addFunds" class="btn">+100</button>
            <button id="resetFunds" class="btn">Reset</button>
            <button id="downloadMoney" class="btn">money.json</button>
            <label class="btn cursor-pointer">Import <input id="importMoney" type="file" accept="application/json" class="hidden" /></label>
          </div>
          <div class="mt-4">
            <h4 class="font-semibold text-sm">Transaktionen</h4>
            <ul id="txList" class="text-xs mt-2 space-y-1 max-h-56 overflow-auto"></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== ROULETTE ===== -->
    <section id="roulette" class="tab">
      <div class="grid md:grid-cols-2 gap-6">
        <div class="card p-6 flex flex-col items-center">
          <div class="relative">
            <div class="pin"></div>
            <div class="wheel glow">
              <div id="wheelSpin" class="pockets spin-wheel"></div>
            </div>
          </div>
          <p id="rouletteResult" class="mt-4 text-sm">Ready.</p>
        </div>
        <div class="card p-6">
          <h2 class="text-xl font-bold">üé° Roulette Einsatz</h2>
          <div class="grid sm:grid-cols-2 gap-3 mt-4">
            <div>
              <label class="text-sm">Einsatz</label>
              <input id="rouletteBet" type="number" min="1" value="10" class="w-full bg-black/60 border border-white/10 rounded-md p-2"/>
            </div>
            <div>
              <label class="text-sm">Wette</label>
              <select id="rouletteType" class="w-full bg-black/60 border border-white/10 rounded-md p-2">
                <option value="red">Rot (1:1)</option>
                <option value="black">Schwarz (1:1)</option>
                <option value="even">Gerade (1:1)</option>
                <option value="odd">Ungerade (1:1)</option>
                <option value="number">Zahl (35:1)</option>
              </select>
            </div>
            <div class="col-span-2" id="numberWrap" style="display:none">
              <label class="text-sm">Zahl (0-36)</label>
              <input id="rouletteNumber" type="number" min="0" max="36" value="7" class="w-full bg-black/60 border border-white/10 rounded-md p-2"/>
            </div>
          </div>
          <div class="flex gap-3 mt-4">
            <button id="spinRoulette" class="btn border-green-700">Drehen</button>
            <button id="betMax" class="btn">Max</button>
          </div>
          <p class="text-xs mt-3 text-gray-400">Europ√§isches Roulette (einzelne 0). Farben nach Standardtisch.</p>
        </div>
      </div>
    </section>

    <!-- ===== COMMANDS ===== -->
    <section id="commands" class="tab">
      <div class="card p-6">
        <div class="flex flex-col md:flex-row md:items-center gap-3 md:gap-6">
          <h2 class="text-2xl font-bold">üìú Commands</h2>
          <input id="cmdSearch" placeholder="Suche nach .slot, .wiki, ..." class="flex-1 bg-black/60 border border-white/10 rounded-md p-2" />
          <span class="text-sm text-gray-400">Insgesamt: <span id="cmdCount">0</span></span>
        </div>
        <div id="cmdCategories" class="grid md:grid-cols-2 gap-6 mt-6"></div>
      </div>
    </section>

    <!-- ===== INFO ===== -->
    <section id="info" class="tab">
      <div class="grid md:grid-cols-2 gap-6">
        <div class="card p-6">
          <h2 class="text-xl font-bold">ü§ñ Bot Infos</h2>
          <ul class="mt-3 space-y-2 text-sm">
            <li><b>Name:</b> BYT BOT</li>
            <li><b>Version:</b> v1.0.0</li>
            <li><b>Status:</b> <span class="text-green-400">ONLINE</span></li>
            <li><b>Uptime (Client):</b> <span id="uptime">0s</span></li>
            <li><b>Commands:</b> <span id="statsCommands">0</span></li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Quick Actions</h3>
          <div class="flex flex-wrap gap-2 mt-3">
            <button class="btn" onclick="switchTab('commands')">Open Commands</button>
            <button class="btn" onclick="switchTab('slots')">Try Slots</button>
            <button class="btn" onclick="switchTab('roulette')">Roulette</button>
          </div>
          <p class="text-xs text-gray-400 mt-4">Tipp: Baue sp√§ter ein Backend, um money.json serverseitig zu speichern (REST-Endpoint).</p>
        </div>
      </div>
    </section>

    <!-- ===== SUPPORT ===== -->
    <section id="support" class="tab">
      <div class="card p-6">
        <h2 class="text-xl font-bold">üõü Support</h2>
        <p class="text-sm text-gray-300">Schreibe eine Nachricht ans Team oder pr√ºfe Tickets.</p>
        <div class="grid md:grid-cols-2 gap-4 mt-4">
          <div class="space-y-2">
            <input id="supportMsg" class="w-full bg-black/60 border border-white/10 rounded-md p-2" placeholder=".support <Nachricht>">
            <button class="btn" id="sendSupport">Senden</button>
          </div>
          <div class="space-y-2">
            <input id="ticketId" class="w-full bg-black/60 border border-white/10 rounded-md p-2" placeholder=".ticket <Ticket-ID>">
            <button class="btn" id="checkTicket">Ticket pr√ºfen</button>
          </div>
        </div>
        <div id="supportOut" class="mt-4 text-sm text-gray-300"></div>
      </div>
    </section>

  </main>

  <footer class="max-w-6xl mx-auto px-4 py-10 text-center text-xs text-gray-500">
    BYT BOT ¬© 2025 ‚Äî neon cyber vibes
  </footer>

  <script>
    /************** UTIL & STATE **************/
    const $ = (q)=>document.querySelector(q);
    const $$ = (q)=>document.querySelectorAll(q);

    const STORAGE_KEYS = {
      balance: 'byt_balance',
      tx: 'byt_tx',
      prompt: 'promptText',
    }
    const SYMS = ['üçí','üçã','üîî','‚≠ê','7Ô∏è‚É£','üíé'];
    const REDS = new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);

    const state = {
      start: Date.now(),
      get balance(){ return parseInt(localStorage.getItem(STORAGE_KEYS.balance) || '500'); },
      set balance(v){ localStorage.setItem(STORAGE_KEYS.balance, String(v)); renderBalance(); },
      get tx(){ return JSON.parse(localStorage.getItem(STORAGE_KEYS.tx) || '[]'); },
      set tx(arr){ localStorage.setItem(STORAGE_KEYS.tx, JSON.stringify(arr)); renderTx(); },
    }

    function addTx(kind, amount, meta={}){
      const entry = { id:crypto.randomUUID(), ts:Date.now(), kind, amount, ...meta };
      const list = state.tx; list.unshift(entry); state.tx = list.slice(0,200);
    }

    function renderBalance(){ $('#balance').textContent = state.balance; }
    function renderTx(){ const el = $('#txList'); el.innerHTML = state.tx.map(t=>`<li>[${new Date(t.ts).toLocaleTimeString()}] <b>${t.kind}</b>: ${t.amount} ¬¢ ${t.note?'- '+t.note:''}</li>`).join(''); }

    /************** TABS **************/
    function switchTab(id){ $$('.tab').forEach(n=>n.classList.remove('active')); $('#'+id).classList.add('active'); $$('.tablink').forEach(b=>b.classList.toggle('border-green-700', b.dataset.tab===id)); }
    $$('.tablink').forEach(btn=>btn.addEventListener('click',()=>switchTab(btn.dataset.tab)));

    /************** IMG MAKER (Gemini Imagen) **************/
    const GEMINI_KEY = '';// Optional: set here or prompt below
    const promptInput = $('#promptInput');
    const generateButton = $('#generateButton');
    const loadingIndicator = $('#loadingIndicator');
    const imageContainer = $('#imageContainer');

    // save prompt
    promptInput?.addEventListener('input', ()=> localStorage.setItem(STORAGE_KEYS.prompt, promptInput.value));
    window.addEventListener('load', ()=>{ const saved = localStorage.getItem(STORAGE_KEYS.prompt); if(saved) promptInput.value = saved; renderBalance(); renderTx(); buildCommands(); updateStats(); tickUptime(); });

    $('#clearPrompt')?.addEventListener('click',()=>{ promptInput.value=''; localStorage.removeItem(STORAGE_KEYS.prompt); });

    async function fetchWithBackoff(url, options, maxRetries=5, delay=800){
      for(let i=0;i<maxRetries;i++){
        try{ const r = await fetch(url, options); if(r.status===429 && i<maxRetries-1){ await new Promise(res=>setTimeout(res,delay)); delay*=1.8; continue;} return r; }catch(e){ if(i<maxRetries-1){ await new Promise(res=>setTimeout(res,delay)); delay*=1.8; continue;} throw e; }
      }
    }

    generateButton?.addEventListener('click', async ()=>{
      const userPrompt = promptInput.value.trim();
      if(!userPrompt){ imageContainer.innerHTML = '<p class="text-red-500">[!] Bitte gib eine Bildbeschreibung ein.</p>'; return; }
      const key = GEMINI_KEY || prompt('GEMINI API KEY eingeben (wird nicht gespeichert):') || '';
      if(!key){ imageContainer.innerHTML = '<p class="text-red-500">[!] Kein API-Key.</p>'; return; }

      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=${key}`;
      generateButton.disabled = true; generateButton.textContent = '> Generating...'; loadingIndicator.classList.remove('hidden'); imageContainer.innerHTML = '';
      try{
        const payload = { instances:[{ prompt: userPrompt }], parameters:{ sampleCount:1 } };
        const r = await fetchWithBackoff(apiUrl, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)});
        const result = await r.json();
        if(result.predictions?.[0]?.bytesBase64Encoded){
          const base64 = result.predictions[0].bytesBase64Encoded; const url = `data:image/png;base64,${base64}`; const img = new Image(); img.src=url; img.alt=userPrompt; img.className='max-w-full h-auto rounded-xl'; imageContainer.appendChild(img);
        } else { imageContainer.innerHTML = '<p class="text-red-500">[!] Fehler beim Generieren.</p>'; console.warn(result); }
      }catch(e){ imageContainer.innerHTML = '<p class="text-red-500">[!] Unerwarteter Fehler.</p>'; console.error(e) }
      finally{ generateButton.disabled=false; generateButton.textContent='> Bild generieren'; loadingIndicator.classList.add('hidden'); }
    });

    /************** MONEY **************/
    function pay(amount, note=''){
      const bal = state.balance; const nv = bal + amount; state.balance = Math.max(0, nv); addTx(amount>=0?'credit':'debit', amount, {note}); return state.balance;
    }
    $('#addFunds')?.addEventListener('click', ()=> pay(100,'topup'));
    $('#resetFunds')?.addEventListener('click', ()=>{ state.balance = 500; addTx('reset',0,{note:'reset to 500'}); });

    // export money.json
    $('#downloadMoney')?.addEventListener('click', ()=>{
      const data = { balance: state.balance, tx: state.tx };
      const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'money.json'; a.click(); URL.revokeObjectURL(a.href);
    });
    $('#importMoney')?.addEventListener('change', async (e)=>{
      const file = e.target.files?.[0]; if(!file) return; const txt = await file.text(); try{ const data = JSON.parse(txt); if(typeof data.balance==='number' && Array.isArray(data.tx)){ state.balance = data.balance; state.tx = data.tx; addTx('import',0,{note:'money.json import'}); } }catch(err){ alert('Ung√ºltige money.json'); }
    });

    /************** SLOTS **************/
    const r1=$('#r1'), r2=$('#r2'), r3=$('#r3');
    function randSym(){ return SYMS[Math.floor(Math.random()*SYMS.length)]; }
    function payoutSlots(a,b,c, bet){
      if(a===b && b===c){
        if(a==='7Ô∏è‚É£') return bet*50;
        if(a==='üíé') return bet*25;
        if(a==='‚≠ê') return bet*10;
        return bet*5;
      }
      if(a===b || a===c || b===c) return bet*2;
      return -bet;
    }
    function animateReel(el, sym, delay){ return new Promise(res=>{ setTimeout(()=>{ el.classList.add('spin'); setTimeout(()=>{ el.textContent = sym; el.classList.remove('spin'); res(); }, 900); }, delay); }); }

    $('#slotMax')?.addEventListener('click', ()=>{ $('#slotBet').value = Math.max(1, state.balance); });
    $('#slotSpin')?.addEventListener('click', async ()=>{
      const bet = Math.max(1, parseInt($('#slotBet').value||'0'));
      if(bet>state.balance) return $('#slotMsg').textContent = 'Nicht genug Coins.';
      pay(-bet,'slot bet');
      const a=randSym(), b=randSym(), c=randSym();
      await Promise.all([
        animateReel(r1,a,0),
        animateReel(r2,b,120),
        animateReel(r3,c,240),
      ]);
      const win = payoutSlots(a,b,c, bet);
      if(win>0) pay(win, 'slot win');
      $('#slotMsg').textContent = win>=0 ? `Gewinn: ${win} ¬¢` : `Verlust: ${-win} ¬¢`;
    });

    /************** ROULETTE **************/
    const order = [0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26]; // European sequence
    let wheelAngle = 0;

    $('#rouletteType')?.addEventListener('change', (e)=>{ $('#numberWrap').style.display = e.target.value==='number' ? '' : 'none'; });
    $('#betMax')?.addEventListener('click', ()=>{ $('#rouletteBet').value = Math.max(1, state.balance); });

    function numberColor(n){ if(n===0) return 'green'; return REDS.has(n) ? 'red' : 'black'; }

    function spinTo(number){
      const idx = order.indexOf(number);
      const slice = 360 / order.length; // ~9.73deg
      const target = (idx + 0.5) * slice; // center of pocket
      const spins = 6; // full rotations
      const final = spins*360 + (360 - target); // align pin at top
      wheelAngle = final;
      $('#wheelSpin').style.transform = `rotate(${final}deg)`;
    }

    function roulettePayout(kind, pick, landed, bet){
      if(kind==='red' || kind==='black'){
        if(landed===0) return -bet; const col = numberColor(landed); return (col===kind? bet : -bet);
      }
      if(kind==='even'){ if(landed===0) return -bet; return (landed%2===0? bet : -bet); }
      if(kind==='odd'){ if(landed===0) return -bet; return (landed%2===1? bet : -bet); }
      if(kind==='number'){ return (landed===pick? bet*35 : -bet); }
      return -bet;
    }

    $('#spinRoulette')?.addEventListener('click', ()=>{
      const bet = Math.max(1, parseInt($('#rouletteBet').value||'0'));
      if(bet>state.balance) return $('#rouletteResult').textContent = 'Nicht genug Coins.';
      const kind = $('#rouletteType').value;
      const pick = parseInt($('#rouletteNumber').value||'0');
      pay(-bet, 'roulette bet');

      // random result
      const landed = order[Math.floor(Math.random()*order.length)];
      spinTo(landed);
      $('#rouletteResult').textContent = 'Dreht...';
      setTimeout(()=>{
        const col = numberColor(landed);
        const win = roulettePayout(kind, pick, landed, bet);
        if(win>0) pay(win, 'roulette win');
        $('#rouletteResult').innerHTML = `Resultat: <b>${landed}</b> (${col}) ‚Äî ${win>=0? 'Gewinn' : 'Verlust'}: ${Math.abs(win)} ¬¢`;
      }, 3100);
    });

    /************** COMMANDS RENDER **************/
    const CATEGORIES = [
      { title:'BASIS-BEFEHLE', items:[
        '.ping','.hi','.echo <txt>','.quote','.joke','.fact','.funfact','.name','.passwort [l√§nge]','.farbe','.zufall','.random <min> <max>','.emoji','.slot','.poker','.gd','.bgo <zahl>','.coinflip','.roll','.calc <expr>','.wiki <suchbegriff>','.shorten <url>'
      ]},
      { title:'FUN & MEDIA', items:[
        '.cat','.dog','.tier','.city','.art','.anime','.gif <Suchbegriff>','.dadjoke','.fortune','.motivate','.chuck','.wetter <stadt>','.reverse <Text>','.sarcasm <Text>','.uwu <Text>','.count <Wort>','.calcimg <Rechnung>','.rate <Text>','.mock <Text>','.insultme'
      ]},
      { title:'GRUPPE & ADMIN', items:[
        '.adminlist','.members','.groupinfo','.setdesc <txt>','.setsubject <txt>','.kick @user','.promote @user','.demote @user','.warn @user [grund]','.delwarn <nr> @user','.resetwarn @user','.listwarns @user','.hidetag [txt]','.tagall <txt>','.hugall','.open','.close','.open4 <hh:mm>','.close4 <min>','.antijoin <nr>','.allowjoin <nr>','.kickfor <min> @u','.banfor <min> @u','.bannchat','.unbannchat','.getgroupinvite'
      ]},
      { title:'USER & CHECKS', items:[
        '.reg Name.Alter','.me','.userinfo @user','.owner','.luisa','.simpcheck @user','.cringecheck @user','.luckcheck @user','.richcheck @user','.sleepycheck @user','.suscheck @user','.waifu @user','.animal @user','.superpower @user','.job @user','.catfact','.dogfact'
      ]},
      { title:'INTERAKTIONEN', items:[
        '.hug @user','.kiss / .kuss @user','.pat @user','.cuddle @user','.slap @user','.poke @user','.bite @user','.glomp @user','.fuck @user','.toterrizz @user','.fakehack @user','.coinrain','.highfive @user','.boop @user','.bonk @user','.wave @user','.blush @user','.cry @user','.dance @user','.facepalm @user','.cheer @user','.stare @user','.tickle @user','.sleep @user','.applaud @user','.scare @user','.gift @user','.coffee @user','.pizza @user','.beer @user','.cookie @user','.flower @user','.respect @user','.hugall','.kissall','.patall','.cuddleall','.slapall','.pokeall','.biteall','.snuggleall','.glompall'
      ]},
      { title:'CASINO & GL√úCKSSPIEL', items:[
        '.slot <einsatz>','.coin <einsatz> <kopf/zahl>','.jackpot <einsatz>','.dice <einsatz>','.gd','.bgo <zahl>','.roll','.bank','.pay @user <betrag>'
      ]},
      { title:'SUPPORT MEN√ú', items:[
        '.support <Nachricht> ‚Äî Kontakt zum Support-Team','.ticket <Ticket-ID> ‚Äî Zeigt den Ticket-Status','.reply <ID> <Antwort> ‚Äî Antwort auf ein Ticket','.mytickets ‚Äî Zeigt deine Tickets'
      ]},
      { title:'NASA & WELTRAUM', items:[
        '.apod ‚Äî Astronomy Picture of the Day','.launches ‚Äî N√§chste Raketenstarts','.iss ‚Äî Live-Position der ISS','.neo ‚Äî Asteroiden in Erdn√§he','.solar ‚Äî Sonnenaktivit√§t','.earthimg <lat> <lon>','.marsweather ‚Äî Wetter auf dem Mars','.techstats ‚Äî NASA Systemstatus'
      ]},
    ];

    function buildCommands(){
      const wrap = $('#cmdCategories'); wrap.innerHTML='';
      let total = 0;
      CATEGORIES.forEach(cat=>{
        total += cat.items.length;
        const div = document.createElement('div');
        div.className='hud p-4 rounded-xl';
        div.innerHTML = `<h3 class="font-semibold mb-2">‚ßâ‚ïê‚ïê‚ïê‚ïê‚ïê[ ${cat.title} ]‚ïê‚ïê‚ïê‚ïê‚ïê‚ßâ</h3>` +
          '<ul class="space-y-1 text-sm">' + cat.items.map(i=>`<li class="border-b border-white/5 pb-1">${i}</li>`).join('') + '</ul>';
        wrap.appendChild(div);
      });
      $('#cmdCount').textContent = total;
    }

    // Search / highlight
    $('#cmdSearch')?.addEventListener('input', (e)=>{
      const q = e.target.value.toLowerCase();
      const cards = Array.from($('#cmdCategories').children);
      cards.forEach(card=>{
        const lis = card.querySelectorAll('li');
        let hit = false;
        lis.forEach(li=>{
          const txt = li.textContent;
          if(!q){ li.innerHTML = txt; return; }
          const idx = txt.toLowerCase().indexOf(q);
          if(idx>-1){
            hit = true;
            const before = txt.slice(0, idx); const mid = txt.slice(idx, idx+q.length); const after = txt.slice(idx+q.length);
            li.innerHTML = `${before}<mark>${mid}</mark>${after}`;
          } else { li.innerHTML = txt; }
        });
        card.style.display = (!q || hit) ? '' : 'none';
      });
    });

    function updateStats(){ $('#statsCommands').textContent = CATEGORIES.reduce((a,c)=>a+c.items.length,0); }

    // uptime
    function tickUptime(){ const s = Math.floor((Date.now()-state.start)/1000); $('#uptime').textContent = s+'s'; requestAnimationFrame(tickUptime); }
  </script>
</body>
</html>
